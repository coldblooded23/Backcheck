<!DOCTYPE html>
<html lang="en" xmlns="https://www.w3.org/1999/xhtml"
	xmlns:th="https://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:replace="common/candidateheader :: commonheader">
</head>

<body>

	<!--*******************
        Preloader start
    ********************-->
	<div th:replace="common/candidateheader :: commonPreloader"></div>
	<!--*******************
        Preloader end
    ********************-->


	<!--**********************************
        Main wrapper start
    ***********************************-->
	<div id="main-wrapper">

		<!--**********************************
            Nav header start
        ***********************************-->
		<div th:replace="common/candidateheader :: commonNavHeader"></div>
		<!--**********************************
            Nav header end
        ***********************************-->

		<!--**********************************
            Header start
        ***********************************-->
		<div th:replace="common/candidateheader :: commonTopNav"></div>
		<!--**********************************
            Header end ti-comment-alt
        ***********************************-->

		<!--**********************************
            Sidebar start
        ***********************************-->
		<div th:replace="common/candidateheader :: commonsidenav"></div>
		<!--**********************************
            Sidebar end
        ***********************************-->

		<!--**********************************
            Content body start
        ***********************************-->
		<div class="content-body">

			<div class="container-fluid mt-3">










				<div class="container-fluid">
					<div class="alert alert-success" role="alert"
						th:if="${Successfull == 'success'}">General Info updated
						successfully</div>
					<div class="alert alert-danger" role="alert"
						th:if="${failed == 'fail'}">
						<span th:text="${message}"></span>
					</div>

					<div class="row justify-content-center">
						<div class="col-lg-8">

							<div class="card">
								<div id="editButton">
									<div class="card-body">
										<button
											style="float: right; margin-right: 30px; margin-top: 20px"
											type="button" class="btn btn-primary" id="myButton">EDIT</button>
									</div>
									<div class="card-body">
										<div class="form-validation">
											<div class="form-group row">
												<label class="col-lg-4 col-form-label" for="gender">Gender
												</label>
												<div class="col-lg-6">
													<input class="form-control"
														th:value="${candidateInfo.candidate_GeneralInfo.gender}"
														readonly="readonly">
												</div>

											</div>
											<div class="form-group row">
												<label class="col-lg-4 col-form-label">MaritalStatus
												</label>
												<div class="col-lg-6">
													<input class="form-control"
														th:value="${candidateInfo.candidate_GeneralInfo.maritalStatus}"
														readonly="readonly">
												</div>

											</div>
											<div class="form-group row">
												<label class="col-lg-4 col-form-label">Address </label>
												<div class="col-lg-6">
													<input class="form-control"
														th:value="${candidateInfo.candidate_GeneralInfo.address}"
														readonly="readonly">
												</div>

											</div>
											<div class="form-group row">
												<label class="col-lg-4 col-form-label">State </label>
												<div class="col-lg-6">
													<input class="form-control"
														th:value="${candidateInfo.candidate_GeneralInfo.state}"
														readonly="readonly">
												</div>

											</div>
											<div class="form-group row">
												<label class="col-lg-4 col-form-label">Country </label>
												<div class="col-lg-6">
													<input class="form-control"
														th:value="${candidateInfo.candidate_GeneralInfo.country}"
														readonly="readonly">
												</div>
											</div>
											<div class="form-group row">
												<label class="col-lg-4 col-form-label">City </label>
												<div class="col-lg-6">
													<input class="form-control"
														th:value="${candidateInfo.candidate_GeneralInfo.city}"
														readonly="readonly">
												</div>
											</div>
											<div class="form-group row">
												<label class="col-lg-4 col-form-label">ZipCode </label>
												<div class="col-lg-6">
													<input class="form-control"
														th:value="${candidateInfo.candidate_GeneralInfo.pincode}"
														readonly="readonly">
												</div>

											</div>

											<div class="form-group row">
												<label class="col-lg-4 col-form-label">SSN </label>
												<div class="col-lg-6">
													<input class="form-control"
														th:value="${candidateInfo.candidate_GeneralInfo.ssn}"
														readonly="readonly">
												</div>

											</div>
										</div>
									</div>
								</div>
								<div id="editbody" style="display: none">
									<div class="card-body">
										<div class="form-validation">
											<form id="companyForm" th:action="@{/user/generalInfo}"
												method="post" th:object="${candidateInfo}">

												<input type="hidden" class="form-control" id="customerId"
													th:field="*{candidateId}" name="customerId">

												<div class="form-group row">
													<label class="col-lg-4 col-form-label" for="gender">Gender
														<span class="text-danger">*</span>
													</label>
													<div class="col-lg-6">
														<select class="form-control" id="gender" name="gender"
															th:field="*{candidate_GeneralInfo.gender}">
															<option value="">Select Gender</option>
															<option value="Male">Male</option>
															<option value="Female">Female</option>
														</select>
														<div class="genderErrors" id="genderErrors"
															style="display: none; color: red">please select
															gender</div>
													</div>
												</div>
												<div class="form-group row">
													<label class="col-lg-4 col-form-label" for="maritalStatus">MaritalStatus
														<span class="text-danger">*</span>
													</label>
													<div class="col-lg-6">
														<select class="form-control" id="maritalStatus"
															name="maritalStatus" placeholder="MaritalStatus"
															th:field="*{candidate_GeneralInfo.maritalStatus}">
															<option value="">Select maritalStatus</option>
															<option th:value="'Single'" > Single</option>
												<option th:value="'Married'">Married</option>
												<option th:value="'Divorced'">Divorced</option>
												<option th:value="'Separated'">Separated</option>
												<option th:value="'Widowed'">Widowed</option>
														</select>
														<div class="maritalStatusErrors" id="maritalStatusErrors"
															style="display: none; color: red">please select
															maritalStatus</div>
													</div>
												</div>
												<div class="form-group row">
													<label class="col-lg-4 col-form-label" for="address">Address
														<span class="text-danger">*</span>
													</label>
													<div class="col-lg-6">
														<input class="form-control" id="address" name="address"
															placeholder="address" maxlength="200"
															th:field="*{candidate_GeneralInfo.address}"
															required="required">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-lg-4 col-form-label" for="state">State
														<span class="text-danger">*</span>
													</label>
													<div class="col-lg-6">
														<input type="text" class="form-control" id="state"
															name="state" placeholder="State" maxlength="100"
															th:field="*{candidate_GeneralInfo.state}"
															oninput="this.value = this.value.replace(/[^a-zA-Z .]/g, '').replace(/(\..*?)\..*/g, '$1');"
															required="required">

													</div>
												</div>
												<div class="form-group row">
													<label class="col-lg-4 col-form-label" for="city">City
														<span class="text-danger">*</span>
													</label>
													<div class="col-lg-6">
														<input type="text" class="form-control" id="city"
															name="city" placeholder="city" maxlength="100"
															th:field="*{candidate_GeneralInfo.city}"
															oninput="this.value = this.value.replace(/[^a-zA-Z .]/g, '').replace(/(\..*?)\..*/g, '$1');"
															required="required">

													</div>
												</div>
												<div class="form-group row">
													<label class="col-lg-4 col-form-label" for="country">Country
														<span class="text-danger">*</span>
													</label>
													<div class="col-lg-6">
														<input type="text" class="form-control" id="country"
															name="country" placeholder="country" maxlength="100"
															th:field="*{candidate_GeneralInfo.country}"
															oninput="this.value = this.value.replace(/[^a-zA-Z.]/g, '').replace(/(\..*?)\..*/g, '$1');"
															required="required">
													</div>
												</div>
												<div class="form-group row">
													<label class="col-lg-4 col-form-label" for="zipCode">Zip
														Code<span class="text-danger">*</span>
													</label>
													<div class="col-lg-6">
														<input type="text" class="form-control" id="zipCode"
															name="zipCode" placeholder="Zip Code"
															th:field="*{candidate_GeneralInfo.pincode}" maxlength="8"
															oninput="this.value = this.value.replace(/[^a-zA-Z0-9 .]/g, '').replace(/(\..*?)\..*/g, '$1');"
															required="required">
														<div class="zipErrors" id="zipErrors"
															style="display: none; color: red">ZipCode must
															contain at least 5 digits</div>

													</div>
												</div>
												<div class="form-group row">
													<label class="col-lg-4 col-form-label" for="ssn">ssn<span class="text-danger">*</span>
													</label>
													<div class="col-lg-6">
														<input type="text" class="form-control" id="ssn"
															name="ssn" placeholder="SSN"
															th:field="*{candidate_GeneralInfo.ssn}" maxlength="9"
															oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');"
															required="required">
														<div class="ssnErrors" id="ssnErrors"
															style="display: none; color: red">SSN must
															contain at least 9 digits</div>

													</div>
												</div>


												<div class="form-group row">
													<div class="col-lg-6">
														<button type="submit" class="btn btn-primary"
															style="float: right;">Submit</button>
													</div>
													<div class="col-lg-6 ">
														<a href="/user/generalInfo" class="btn btn-danger">Cancel</a>
													</div>
												</div>

											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
			<!-- #/ container -->
		</div>
		<!--**********************************
            Content body end
        ***********************************-->
		<script type="text/javascript">    
        const from =document.getElementById("companyForm");
        const Address =document.getElementById("address");
        const State =document.getElementById("state");
        const Country =document.getElementById("country");
        const zipCode =document.getElementById("zipCode");
        const gender =document.getElementById("gender"); 
        const maritalStatus =document.getElementById("maritalStatus"); 
        const editButton =document.getElementById("editButton");
        const ssn1= document.getElementById('ssn');
       const myButton= document.getElementById('myButton');
       const editbodyi= document.getElementById('editbody');
      
       myButton.onclick = function() {
        editButton.style.display="none";
        	editbodyi.style.display="block";
        };
        
        
        from.addEventListener('submit',(e)=>{
  		  let meassage=[];
  	/* 	  let email1=emailValidate();
  		  let url=ValidURL();
  		
  		 if(url==false){
			  meassage.push("enter valid email"); 
				 document.getElementById("urlError").style.display='block'; 
		  }else{  
			  document.getElementById("urlError").style.display='none'; 
		  } 
  		  if(email1==false){
			  meassage.push("enter valid email"); 
		  }else{  
			  document.getElementById("errors").style.display='none'; 
			  document.getElementById("errors1").style.display='none'; 
		  } 
  		  
  		  if(Number.value.trim().length<10){
  			 meassage.push("enter valid email"); 
  			 document.getElementById("numberErrors").style.display='block'; 
  		 
  		  }else{
  			 document.getElementById("numberErrors").style.display='none';   
  		  } */ 
  		 
    	  if(gender.value.trim().length==0){
    			 meassage.push("enter valid email"); 
    			 document.getElementById("genderErrors").style.display='block'; 
    		 
    		  }else{
    			 document.getElementById("genderErrors").style.display='none';   
    		  }
    	
    	  if(maritalStatus.value.trim().length==0){
 			 meassage.push("enter valid email"); 
 			 document.getElementById("maritalStatusErrors").style.display='block'; 
 		 
 		  }else{
 			 document.getElementById("maritalStatusErrors").style.display='none';   
 		  }
  		  
  		 if(zipCode.value.trim().length<5){
  			 meassage.push("enter valid email"); 
  			 document.getElementById("zipErrors").style.display='block'; 
  		
  		  }else{
  			 document.getElementById("zipErrors").style.display='none';   
  		  }
  		 
  		if(ssn1.value.trim().length<9){
 			 meassage.push("enter valid email"); 
 			 document.getElementById("ssnErrors").style.display='block'; 
 		
 		  }else{
 			 document.getElementById("ssnErrors").style.display='none';   
 		  }
  		
  		  if(meassage.length>0){
			  e.preventDefault();
		  }
  		  
        });
        
        
        function emailValidate(){
        	 var emailRE1="^[^-,]+@gmail.com+$";
             var emailRE2="^[^-,]+@hotmail.com+$";
             var emailRE3="^[^-,]+@rediff.com+$";
             var emailRE4="^[^-,]+@yahoo.com+$";
             var emailRE5="^[^-,]+@outlook.com+$";
             var emailRE6=/^([\w\-\.]+)@((\[([0-9]{1,3}\.){3}[0-9]{1,3}\])|(([\w\-]+\.)+)([a-zA-Z]{2,4}))$/;
        	  
        	  if(email.value.toLowerCase().match(emailRE1)||email.value.toLowerCase().match(emailRE2)||email.value.toLowerCase().match(emailRE3)||email.value.toLowerCase().match(emailRE4)||email.value.toLowerCase().match(emailRE5)){
        		 document.getElementById("errors").style.display='block'; 
      		  return false;
      		  }else if(email.value.match(emailRE6)){
      			  return true;  
      		  }else{	
      			 document.getElementById("errors1").style.display='block'; 
      			 return false;
      			 
      		  }
        	  
          }  
        
        function ValidURL() {
        	  var regex = /(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;
        	  //[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)
        	  if(!regex .test(companyWebsite.value)) {
        	    return false;
        	  } else {
        	    return true;
        	  }
        	}
        </script>

		<script type="text/javascript">
        
        $("#zipCode").on("keypress", function (e) {
            if ((!this.value.length && e.keyCode == 39) || (!this.value.length && e.keyCode == 32))
                e.preventDefault();
        })
        
           $("#address").on("keypress", function (e) {
            if ((!this.value.length && e.keyCode == 39) || (!this.value.length && e.keyCode == 32))
                e.preventDefault();
        })
        
           $("#state").on("keypress", function (e) {
            if ((!this.value.length && e.keyCode == 39) || (!this.value.length && e.keyCode == 32))
                e.preventDefault();
        })
        
           $("#country").on("keypress", function (e) {
            if ((!this.value.length && e.keyCode == 39) || (!this.value.length && e.keyCode == 32))
                e.preventDefault();
        })
           $("#city").on("keypress", function (e) {
            if ((!this.value.length && e.keyCode == 39) || (!this.value.length && e.keyCode == 32))
                e.preventDefault();
        })
        
        </script>
		<!--**********************************
            Footer start
        ***********************************-->

		<div th:replace="common/candidateheader :: commonfooter"></div>
		<!--**********************************
            Footer end
      
        ***********************************-->
		<div th:replace="common/candidateheader :: commonScript"></div>
	</div>
	<!--**********************************
        Main wrapper end
    ***********************************-->




</body>

</html>